<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Zubacx | Graphs</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport" />
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="{{ url_for('static',filename='vendor/bootstrap/dist/css/bootstrap.min.css') }}" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{{ url_for('static',filename='vendor/font-awesome/css/font-awesome.min.css') }}" />
  <!-- Ionicons -->
  <link rel="stylesheet" href="{{ url_for('static',filename='vendor/Ionicons/css/ionicons.min.css') }}" />
  <!-- Theme style -->
  <link rel="stylesheet" href="{{ url_for('static',filename='dist/css/AdminLTE.min.css') }}" />
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="{{ url_for('static',filename='dist/css/skins/_all-skins.min.css') }}" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic" />
</head>

<body class="hold-transition skin-blue sidebar-mini">
  <div class="wrapper">
    <header class="main-header">
      <!-- Logo -->
      <a href="/dashboard" class="logo">
        <!-- mini logo for sidebar mini 50x50 pixels -->
        <span class="logo-mini"><b>Zub</b>U</span>
        <!-- logo for regular state and mobile devices -->
        <span class="logo-lg">
          <img src="{{ url_for('static',filename='dist/img/ZubaCx_Logo.png') }}" height="40px" alt="" />
        </span>
      </a>

      <!-- Header Navbar: style can be found in header.less -->
      <nav class="navbar navbar-static-top">
        <!-- Sidebar toggle button-->
        <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
          <span class="sr-only">Toggle navigation</span>
        </a>
        <!-- Navbar Right Menu -->
        <div class="navbar-custom-menu">
          <ul class="nav navbar-nav">
            <!-- User Account: style can be found in dropdown.less -->
            <li class="dropdown user user-menu">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <img src="{{ url_for('static',filename='dist/img/user2-160x160.jpg') }}" class="user-image" alt="User Image" />
                <span class="hidden-xs">{{ currentUser[3] }}</span>
              </a>
              <ul class="dropdown-menu">
                <!-- User image -->
                <li class="user-header">
                  <img src="{{ url_for('static',filename='dist/img/user2-160x160.jpg') }}" class="img-circle" alt="User Image" />

                  <p>
                    {{ currentUser[3] }} - ({{ currentUser[1] }}
                    {{ currentUser[2] }})
                  </p>
                </li>
                <!-- Menu Footer-->
                <li class="user-footer">
                  <div class="pull-left">
                    <a href="/profile" class="btn bg-purple btn-flat">Profile</a>
                  </div>
                  <div class="pull-right">
                    <a href="#" class="btn bg-maroon btn-flat">Sign out</a>
                  </div>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar">
      <!-- sidebar: style can be found in sidebar.less -->
      <section class="sidebar">
        <!-- Sidebar user panel -->
        <div class="user-panel">
          <div class="pull-left image">
            <img src="{{ url_for('static',filename='dist/img/user2-160x160.jpg') }}" class="img-circle" alt="User Image" />
          </div>
          <div class="pull-left info">
            <p>{{ currentUser[3] }}</p>
            <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
          </div>
        </div>

        <!-- sidebar menu: : style can be found in sidebar.less -->
        <ul class="sidebar-menu" data-widget="tree">
          <li class="active">
            <a href="{{ url_for('dashboard') }}">
              <i class="fa fa-dashboard"></i> <span>Dashboard</span>
            </a>
          </li>
          {% if currentUser[29] ==0:%}
          <li class="treeview">
            <a href="#">
              <i class="fa fa-hacker-news"></i> <span>New</span>
              <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
                <small class="label pull-right bg-green">new</small>
              </span>
            </a>
            <ul class="treeview-menu">
              {% if currentUser[9] ==0:%} {% else:%}
              <li>
                <a href="{{ url_for('new_users') }}"><i class="fa fa-circle-o"></i> Add New User</a>
              </li>
              {%endif%} {% if currentUser[13] ==0:%} {% else:%}
              <li>
                <a href="{{ url_for('new_ticket') }}"><i class="fa fa-circle-o"></i> Add New Ticket</a>
              </li>
              {%endif%} {% if currentUser[23] ==0:%} {% else:%}
              <li>
                <a href="{{ url_for('new_customer') }}"><i class="fa fa-circle-o"></i> Add New Customer</a>
              </li>
              {%endif%} {% if currentUser[24] ==0:%} {% else:%}
              <li>
                <a href="{{ url_for('new_engineer') }}"><i class="fa fa-circle-o"></i> Add New Engineer</a>
              </li>
              {%endif%} {% if currentUser[25] ==0:%} {% else:%}
              <li>
                <a href="{{ url_for('new_equipment') }}"><i class="fa fa-circle-o"></i> Add New Equipment</a>
              </li>
              {%endif%} {% if currentUser[26] ==0:%} {% else:%}
              <li>
                <a href="{{ url_for('new_workorder') }}"><i class="fa fa-circle-o"></i> Add New Work Order</a>
              </li>
              {%endif%}
            </ul>
          </li>
          {% else:%}
          {%endif%}
          {% if currentUser[29] == 0:%}
          <li class="treeview">
            <a href="#">
              <i class="fa fa-street-view"></i> <span>Views</span>
              <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
                <small class="label pull-right bg-primary">views</small>
              </span>
            </a>
            <ul class="treeview-menu">
              {% if currentUser[16] ==1:%}
              <li>
                <a href="/view_all_tickets"><i class="fa fa-circle-o"></i> All Tickets</a>
              </li>
              <li>
                <a href="/open_and_overdue_tickets"><i class="fa fa-circle-o"></i> Open Tickets</a>
              </li>
              <li>
                <a href="/closed_and_overdue_tickets"><i class="fa fa-circle-o"></i> Closed Tickets</a>
              </li>
              <li>
                <a href="/low_priority_and_overdue_tickets"><i class="fa fa-circle-o"></i> Overdue Tickets</a>
              </li>
              <li>
                <a href="/all_my_open_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Tickets</a>
              </li>
              <li>
                <a href="/my_open_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Open Tickets</a>
              </li>
              <li>
                <a href="/my_closed_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Closed Tickets</a>
              </li>
              <li>
                <a href="/my_low_priority_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Overdue Tickets</a>
              </li>
              {% else:%} {% if currentUser[13] ==1:%}
              <li>
                <a href="/all_my_open_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Tickets</a>
              </li>
              <li>
                <a href="/my_open_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Open Tickets</a>
              </li>
              <li>
                <a href="/my_closed_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Closed Tickets</a>
              </li>
              <li>
                <a href="/my_low_priority_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Overdue Tickets</a>
              </li>
              {% else:%} {%endif%} {%endif%}
            </ul>
          </li>
          {%else:%}
          <li class="treeview">
            <a href="#">
              <i class="fa fa-street-view"></i> <span>Views</span>
              <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
                <small class="label pull-right bg-primary">views</small>
              </span>
            </a>
            <ul class="treeview-menu">
              <li>
                <a href="/view_all_tickets"><i class="fa fa-circle-o"></i> My Tickets</a>
              </li>
              <li>
                <a href="/open_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Open Tickets</a>
              </li>
              <li>
                <a href="/closed_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Closed Tickets</a>
              </li>
              <li>
                <a href="/low_priority_and_overdue_tickets"><i class="fa fa-circle-o"></i> My Overdue Tickets</a>
              </li>
            </ul>
          </li>
          {%endif%}
          <li class="">
            <a href="{{ url_for('view_all_tickets') }}">
              <i class="fa fa-ticket"></i> <span>Tickets</span>
            </a>
          </li>
          {% if currentUser[23] ==0:%}
          {% if currentUser[29] ==0:%}
          <li class="">
            <a href="/robot">
              <i class="fa fa-user-o"></i> <span>Customers</span>
            </a>
          </li>
          {% else:%}
          {%endif%}

          {% else:%}
          {% if currentUser[29] ==0:%}
          <li class="">
            <a href="/all_clients">
              <i class="fa fa-user-o"></i> <span>Customers</span>
            </a>
          </li>
          <li class="">
            <a href="/all_engineers">
              <i class="fa fa-user-o"></i> <span>Engineers</span>
            </a>
          </li>
          <li class="">
            <a href="/all_users">
              <i class="fa fa-user-o"></i> <span>System Users</span>
            </a>
          </li>
          {% else:%}
          {%endif%}
          {% endif%}
          <li class="">
            <a href="/tasks">
              <i class="fa fa-tasks"></i> <span>Tasks</span>
            </a>
          </li>
          {% if currentUser[29] == 0:%}
          <li class="">
            <a href="/reports">
              <i class="fa fa-file-pdf-o"></i> <span>Reports</span>
            </a>
          </li>
          {%else:%}
          {%endif%}


          {% if currentUser[13] ==0:%}
          <li class="">
            <a href="/robot">
              <i class="fa fa-ticket"></i> <span>Open Tickets</span>
            </a>
          </li>
          {% else:%}
          {% if currentUser[29] ==0:%}
          <li class="">
            <a href="{{ url_for('new_ticket') }}">
              <i class="fa fa-ticket"></i> <span>Open Tickets</span>
            </a>
          </li>
          {% else:%}
          {%endif%}
          {% endif%}
          <li>
            <a href="pages/calendar.html">
              <i class="fa fa-calendar"></i> <span>Calendar</span>
              <span class="pull-right-container">
                <small class="label pull-right bg-red">3</small>
                <small class="label pull-right bg-blue">17</small>
              </span>
            </a>
          </li>
          <li style="height:80px">
            <a>
              <span class="pull-right-container">
                <small style="width:60px" class="label pull-right bg-yellow">
                  <h1 id="s">12</h1>
                </small>
                <small style="width:60px" class="label pull-right bg-green">
                  <h1 id="m">34</h1>
                </small>
                <small style="width:60px" class="label pull-right bg-red">
                  <h1 id="h">23</h1>
                </small>
              </span>
            </a>
          </li>
        </ul>
      </section>
      <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>
          Zubacx Tasks Analysis Using Charts
        </h1>
        <ol class="breadcrumb">
          <li>
            <a href="/dashboard"><i class="fa fa-dashboard"></i> Home</a>
          </li>
          <li><a>Charts</a></li>
        </ol>
      </section>

      <!-- Main content -->
      <section class="content">
        <div class="row">
          <div class="col-md-6">
            <!-- AREA CHART -->
            <div class="box box-primary">
              <div class="box-header with-border">
                <h3 class="box-title">A Graph Showing Running Tasks</h3>
              </div>
              <div class="box-body">
                <div class="chart">
                  <canvas id="myChart" style="height:250px"></canvas>
                </div>
              </div>
              <!-- /.box-body -->
            </div>
            <!-- /.box -->

            <!-- DONUT CHART -->
            <div class="box box-danger">
              <div class="box-header with-border">
                <h3 class="box-title">
                  Donut Chart Showing Tasks Due In 2 Hours
                </h3>
              </div>
              <div class="box-body">
                <canvas id="myChart1" style="height:250px"></canvas>
              </div>
              <!-- /.box-body -->
            </div>
            <!-- /.box -->
          </div>
          <!-- /.col (LEFT) -->
          <div class="col-md-6">
            <!-- LINE CHART -->
            <div class="box box-info">
              <div class="box-header with-border">
                <h3 class="box-title">Line Chart Showing Completed tasks</h3>
              </div>
              <div class="box-body">
                <div class="chart">
                  <canvas id="myChart2" style="height:250px"></canvas>
                </div>
              </div>
              <!-- /.box-body -->
            </div>
            <!-- /.box -->

            <!-- BAR CHART -->
            <div class="box box-success">
              <div class="box-header with-border">
                <h3 class="box-title">Bar Chart Showing Violated Tasks</h3>
              </div>
              <div class="box-body">
                <div class="chart">
                  <canvas id="myChart3" style="height:275px"></canvas>
                </div>
              </div>
              <!-- /.box-body -->
            </div>
            <!-- /.box -->
          </div>
          <!-- /.col (RIGHT) -->
        </div>
        <!-- /.row -->
      </section>
      <!-- /.content -->
    </div>

    <!-- /.content-wrapper -->
    <footer class="main-footer">
      <div class="pull-right hidden-xs">
        <b>Version</b> 1.0-
        <label for="" id="developers" class="text-info">
          Developed By: SoftEarth Technologies, Inc</label>
      </div>
      <strong>Copyright &copy; 2018. Zubacx</strong> All rights reserved.
      <img src="{{ url_for('static',filename='dist/img/ZubaCx_Logo.png') }}" height="40px" alt="Zubacx Logo" />
    </footer>
    <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
    <div class="control-sidebar-bg"></div>
  </div>

  <!-- jQuery 3 -->
  <script src="{{ url_for('static',filename='vendor/jquery/dist/jquery.min.js') }}"></script>
  <!-- Bootstrap 3.3.7 -->
  <script src="{{ url_for('static',filename='vendor/bootstrap/dist/js/bootstrap.min.js') }}"></script>
  <!-- ChartJS -->
  <script src="{{ url_for('static',filename='vendor/chart.js/Chart.js') }}"></script>
  <!-- FastClick -->
  <script src="{{ url_for('static',filename='vendor/fastclick/lib/fastclick.js') }}"></script>
  <!-- AdminLTE App -->
  <script src="{{ url_for('static',filename='dist/js/adminlte.min.js') }}"></script>
  <!-- AdminLTE for demo purposes -->
  <script src="{{ url_for('static',filename='dist/js/demo.js') }}"></script>
  <!-- Time JS -->
  <script src="{{ url_for('static',filename='time/time.js') }}"></script>
  <!-- page script -->
  <script>
    const ATM_running_value = {{ ATM_running_value | safe}};
    const Airport_running_value = {{ Airport_running_value | safe}};
    const Telecom_running_value = {{ Telecom_running_value | safe}};
    const Fleet_running_value = {{ Fleet_running_value | safe}};

    const ATM_due_soon_value = {{ ATM_due_soon_value | safe}};
    const Airport_due_soon_value = {{ Airport_due_soon_value | safe}};
    const Telecom_due_soon_value = {{ Telecom_due_soon_value | safe}};
    const Fleet_due_soon_value = {{ Fleet_due_soon_value | safe}};

    const ATM_completed_value = {{ ATM_completed_value | safe}};
    const Airport_completed_value = {{ Airport_completed_value | safe}};
    const Telecom_completed_value = {{ Telecom_completed_value | safe}};
    const Fleet_completed_value = {{ Fleet_completed_value | safe}};

    const ATM_overdue_value = {{ ATM_overdue_value | safe}};
    const Airport_overdue_value = {{ Airport_overdue_value | safe}};
    const Telecom_overdue_value = {{ Telecom_overdue_value | safe}};
    const Fleet_overdue_value = {{ Fleet_overdue_value | safe}};



    var ctx = document.getElementById("myChart").getContext('2d');
    var ctx1 = document.getElementById("myChart1").getContext('2d');
    var ctx2 = document.getElementById("myChart2").getContext('2d');
    var ctx3 = document.getElementById("myChart3").getContext('2d');

    var myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ["ATM", "AIRPORT", "TELECOM", "FLEET"],
        datasets: [{
          label: 'Running Tasks',
          data: [ATM_running_value, Airport_running_value, Telecom_running_value, Fleet_running_value],
          backgroundColor: [
            '#007bff',
            '#dc3545',
            '#21c65e',
            '#ffc107'
          ],
          borderColor: [
            '#007bff',
            '#dc3545',
            '#21c65e',
            '#ffc107'
          ],
          borderWidth: 3
        }]
      },
      options: {
        scales: {
          yAxes: [{
            scaleLabel: {
              display: true,
              labelString: 'Number of Running Tasks',
              fontSize: 14
            },
            ticks: {
              beginAtZero: true
            }
          }]
        },
        legend: {
          display: false,
          position: 'bottom',
          labels: {
            fontColor: "#000",
          }
        },
        title: {
          display: true,
          fontSize: 18,
          text: 'Running Tasks'
        }

      }
    });

    var myChart1 = new Chart(ctx1, {
      type: 'doughnut',
      data: {
        labels: ["ATM", "AIRPORT", "TELECOM", "FLEET"],
        datasets: [{
          label: 'Tasks Due Soon',
          data: [ATM_due_soon_value, Airport_due_soon_value, Telecom_due_soon_value, Fleet_due_soon_value],
          backgroundColor: [
            '#007bff',
            '#dc3545',
            '#21c65e',
            '#ffc107'
          ],
          borderColor: [
            '#007bff',
            '#dc3545',
            '#21c65e',
            '#ffc107'
          ],
          borderWidth: 3
        }]
      },
      options: {
        scales: {
          //Not Title for Doughut Chart
        },
        legend: {
          display: true,
          position: 'bottom',
          labels: {
            fontColor: "#000"
          }
        },
        title: {
          display: true,
          fontSize: 18,
          text: 'Tasks Due Soon'
        }
      }

    });

    var myChart2 = new Chart(ctx2, {
      type: 'line',
      data: {
        labels: ["ATM", "AIRPORT", "TELECOM", "FLEET"],
        datasets: [{
          label: 'Completed Tasks',
          data: [ATM_completed_value, Airport_completed_value, Telecom_completed_value, Fleet_completed_value],
          backgroundColor: [
            '#007bff'
          ],
          fill: false,
          borderColor: [
            '#007bff'
          ],
          borderWidth: 3
        }]
      },
      options: {
        scales: {
          yAxes: [{
            ticks: {
              beginAtZero: true
            }
          }]
        },
        legend: {
          display: true,
          position: 'bottom',
          labels: {
            fontColor: "#000"
          }
        },
        title: {
          display: true,
          fontSize: 18,
          text: 'Completed Tasks'
        }
      }
    });

    var myChart3 = new Chart(ctx3, {
      type: 'pie',
      data: {
        labels: ["ATM", "AIRPORT", "TELECOM", "FLEET"],
        datasets: [{
          display: false,
          label: 'Disrespected Tasks',
          data: [ATM_overdue_value, Airport_overdue_value, Telecom_overdue_value, Fleet_overdue_value],
          backgroundColor: [
            '#007bff',
            '#dc3545',
            '#21c65e',
            '#ffc107'
          ],
          borderColor: [
            '#007bff',
            '#dc3545',
            '#21c65e',
            '#ffc107'
          ],
          borderWidth: 3
        }]
      },
      options: {
        scales: {

        },
        legend: {
          display: true,
          position: 'bottom',
          labels: {
            fontColor: "#000"
          }
        },
        title: {
          display: true,
          fontSize: 18,
          text: 'Violated Tasks'
        }
      }
    });
  </script>
</body>

</html>